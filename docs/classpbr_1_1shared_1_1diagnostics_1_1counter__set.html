<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Project Bird Racing: pbr::shared::diagnostics::counter_set Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Project Bird Racing
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classpbr_1_1shared_1_1diagnostics_1_1counter__set.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classpbr_1_1shared_1_1diagnostics_1_1counter__set-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">pbr::shared::diagnostics::counter_set Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="counter__set_8h_source.html">counter_set.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a4460599bef6bfda132f7d63d4919f67f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpbr_1_1shared_1_1diagnostics_1_1counter__set.html#a4460599bef6bfda132f7d63d4919f67f">increment_counter</a> (const std::string &amp;key, int amount) noexcept</td></tr>
<tr class="separator:a4460599bef6bfda132f7d63d4919f67f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c8145714c197fb5ec2f874e6a04e3d5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpbr_1_1shared_1_1diagnostics_1_1counter__set.html#a8c8145714c197fb5ec2f874e6a04e3d5">decrement_counter</a> (const std::string &amp;key, int amount) noexcept</td></tr>
<tr class="separator:a8c8145714c197fb5ec2f874e6a04e3d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18536499793d512fa2a4342c3b7c6927"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpbr_1_1shared_1_1diagnostics_1_1counter__set.html#a18536499793d512fa2a4342c3b7c6927">add_value_to_list</a> (const std::string &amp;key, int value) noexcept</td></tr>
<tr class="separator:a18536499793d512fa2a4342c3b7c6927"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af42e4bdd83f4691388f0f663c5385fce"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpbr_1_1shared_1_1diagnostics_1_1counter__set.html#af42e4bdd83f4691388f0f663c5385fce">get_counter</a> (const std::string &amp;key) noexcept</td></tr>
<tr class="separator:af42e4bdd83f4691388f0f663c5385fce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac241a5851656d147b442af9a3d7c1fa0"><td class="memItemLeft" align="right" valign="top">const std::vector&lt; int &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpbr_1_1shared_1_1diagnostics_1_1counter__set.html#ac241a5851656d147b442af9a3d7c1fa0">get_values_for_counter_list</a> (const std::string &amp;key) noexcept</td></tr>
<tr class="separator:ac241a5851656d147b442af9a3d7c1fa0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad86bd058ec0aff4b663f8047d7f99c83"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpbr_1_1shared_1_1diagnostics_1_1counter__set.html#ad86bd058ec0aff4b663f8047d7f99c83">get_counter_for_duration</a> (const std::string &amp;key, std::chrono::milliseconds duration, int &amp;out_result_at_duration) noexcept</td></tr>
<tr class="separator:ad86bd058ec0aff4b663f8047d7f99c83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f805917958125e045ea94cc77e11179"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpbr_1_1shared_1_1diagnostics_1_1counter__set.html#a4f805917958125e045ea94cc77e11179">get_average_for_duration</a> (const std::string &amp;key, std::chrono::milliseconds duration, float &amp;out_average_at_duration) noexcept</td></tr>
<tr class="separator:a4f805917958125e045ea94cc77e11179"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A set of counters. A counter can be incremented, decremented and have various average based operations performed against it. It can also be reset. This may be useful for frame counters or number of render calls per frame etc... Counters are referenced by a string based key. If a requested key does not exist, a key is created with the default type of the counter </p>

<p class="definition">Definition at line <a class="el" href="counter__set_8h_source.html#l00014">14</a> of file <a class="el" href="counter__set_8h_source.html">counter_set.h</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a18536499793d512fa2a4342c3b7c6927"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18536499793d512fa2a4342c3b7c6927">&#9670;&nbsp;</a></span>add_value_to_list()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void pbr::shared::diagnostics::counter_set::add_value_to_list </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Adds a value to a counter list </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>The key of the counter </td></tr>
    <tr><td class="paramname">value</td><td>The value to add </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="diagnostics_2counter__set_8cpp_source.html#l00014">14</a> of file <a class="el" href="diagnostics_2counter__set_8cpp_source.html">counter_set.cpp</a>.</p>

</div>
</div>
<a id="a8c8145714c197fb5ec2f874e6a04e3d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c8145714c197fb5ec2f874e6a04e3d5">&#9670;&nbsp;</a></span>decrement_counter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void pbr::shared::diagnostics::counter_set::decrement_counter </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>amount</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Decrements a counter </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>The key of the counter </td></tr>
    <tr><td class="paramname">amount</td><td>The amount to decrement by </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="diagnostics_2counter__set_8cpp_source.html#l00010">10</a> of file <a class="el" href="diagnostics_2counter__set_8cpp_source.html">counter_set.cpp</a>.</p>

</div>
</div>
<a id="a4f805917958125e045ea94cc77e11179"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f805917958125e045ea94cc77e11179">&#9670;&nbsp;</a></span>get_average_for_duration()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float pbr::shared::diagnostics::counter_set::get_average_for_duration </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::chrono::milliseconds&#160;</td>
          <td class="paramname"><em>duration</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float &amp;&#160;</td>
          <td class="paramname"><em>out_average_at_duration</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the average of a counter list indicated by the passed key. If the time since this function was last called is greater than or equal to duration, the counter list is reset </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>The key of the counter </td></tr>
    <tr><td class="paramname">duration</td><td>The duration to reset the count after in milliseconds </td></tr>
    <tr><td class="paramname">out_average_at_duration</td><td>The average at the point when <code>duration</code> has been reached, else this value is not set </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The average of the counter list </dd></dl>

<p class="definition">Definition at line <a class="el" href="diagnostics_2counter__set_8cpp_source.html#l00036">36</a> of file <a class="el" href="diagnostics_2counter__set_8cpp_source.html">counter_set.cpp</a>.</p>

</div>
</div>
<a id="af42e4bdd83f4691388f0f663c5385fce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af42e4bdd83f4691388f0f663c5385fce">&#9670;&nbsp;</a></span>get_counter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int pbr::shared::diagnostics::counter_set::get_counter </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the counter for the passed key </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>The key of the counter </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The counter for the passed key </dd></dl>

<p class="definition">Definition at line <a class="el" href="counter__set_8h_source.html#l00034">34</a> of file <a class="el" href="counter__set_8h_source.html">counter_set.h</a>.</p>

</div>
</div>
<a id="ad86bd058ec0aff4b663f8047d7f99c83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad86bd058ec0aff4b663f8047d7f99c83">&#9670;&nbsp;</a></span>get_counter_for_duration()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int pbr::shared::diagnostics::counter_set::get_counter_for_duration </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::chrono::milliseconds&#160;</td>
          <td class="paramname"><em>duration</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>out_result_at_duration</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the count indicated by the passed key. If the time since this function was last called is greater than or equal to duration, the count is reset. The first time the duration is hit, the result will not be accurate, as a new key's last update time will default to the default value of <code>time_point</code>, call this function at last once before actual use to ensure the last update time is set correctly </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>The key of the counter </td></tr>
    <tr><td class="paramname">duration</td><td>The duration to reset the count after in milliseconds </td></tr>
    <tr><td class="paramname">out_result_at_duration</td><td>The count at the point when <code>duration</code> has been reached, else this value is not set </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The count </dd></dl>

<p class="definition">Definition at line <a class="el" href="diagnostics_2counter__set_8cpp_source.html#l00018">18</a> of file <a class="el" href="diagnostics_2counter__set_8cpp_source.html">counter_set.cpp</a>.</p>

</div>
</div>
<a id="ac241a5851656d147b442af9a3d7c1fa0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac241a5851656d147b442af9a3d7c1fa0">&#9670;&nbsp;</a></span>get_values_for_counter_list()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::vector&lt;int&gt;&amp; pbr::shared::diagnostics::counter_set::get_values_for_counter_list </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the values for the counter list for the passed key </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>The key of the counter list </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The values for the counter list for the passed key </dd></dl>

<p class="definition">Definition at line <a class="el" href="counter__set_8h_source.html#l00041">41</a> of file <a class="el" href="counter__set_8h_source.html">counter_set.h</a>.</p>

</div>
</div>
<a id="a4460599bef6bfda132f7d63d4919f67f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4460599bef6bfda132f7d63d4919f67f">&#9670;&nbsp;</a></span>increment_counter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void pbr::shared::diagnostics::counter_set::increment_counter </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>amount</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Increments a counter </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>The key of the counter </td></tr>
    <tr><td class="paramname">amount</td><td>The amount to increment by </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="diagnostics_2counter__set_8cpp_source.html#l00006">6</a> of file <a class="el" href="diagnostics_2counter__set_8cpp_source.html">counter_set.cpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/shared/diagnostics/<a class="el" href="counter__set_8h_source.html">counter_set.h</a></li>
<li>src/shared/diagnostics/<a class="el" href="diagnostics_2counter__set_8cpp_source.html">counter_set.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacepbr.html">pbr</a></li><li class="navelem"><a class="el" href="namespacepbr_1_1shared.html">shared</a></li><li class="navelem"><a class="el" href="namespacepbr_1_1shared_1_1diagnostics.html">diagnostics</a></li><li class="navelem"><a class="el" href="classpbr_1_1shared_1_1diagnostics_1_1counter__set.html">counter_set</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
